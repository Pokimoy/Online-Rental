<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Raylcar - Car Rental</title>
    <link rel="icon" type="image/png" href="./assets/images/logo-web.png">
    <link href="https://fonts.googleapis.com/css?family=Cairo:400,600,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400i,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="./assets/images/favicon.png" />
    <link rel="stylesheet" type="text/css" href="http://cdn.bootstrapmb.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./assets/css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="./assets/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="./assets/css/nice-select.css">
    <link rel="stylesheet" type="text/css" href="./assets/css/slick.min.css">
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="./assets/css/main-color.css">
</head>
<body class="biolife-body">

    <!-- Preloader -->
    <div id="biof-loading">
        <div class="biof-loading-center">
            <div class="biof-loading-center-absolute">
                <div class="dot dot-one"></div>
                <div class="dot dot-two"></div>
                <div class="dot dot-three"></div>
            </div>
        </div>
    </div>

    <!-- HEADER -->
    <header id="header" class="header-area style-01 layout-03">
        <div class="header-top bg-main hidden-xs">
            <div class="container">
                <div class="top-bar left">
                    <ul class="horizontal-menu">
                        <li><a href="#"><i class="fa fa-envelope" aria-hidden="true"></i>Xinrui.hu-1@student.uts.edu.au</a></li>
                        <li><a href="#">Convenient Online Cars Rental</a></li>
                    </ul>
                </div>
                <div class="top-bar right">
                    <ul class="social-list">
                        <li><a href="https://twitter.com/MaackiaR"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                        <li><a href="https://www.facebook.com/profile.php?id=100027872982316"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                        <li><a href="https://www.instagram.com/maackia.z/?next=%2F"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                    </ul>
                    <ul class="horizontal-menu">
                        <li><a href="login.html" class="login-link"><i class="biolife-icon icon-login"></i>Login/Register</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="header-middle biolife-sticky-object ">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-2 col-md-6 col-xs-6">
                        <a href="index.html" class="biolife-logo"><img src="./assets/images/organic-3.png" alt="biolife logo" width="135" height="34"></a>
                    </div>
                    <div class="col-lg-6 col-md-7 hidden-sm hidden-xs">
                        <div class="primary-menu">
                        <ul class="menu biolife-menu clone-main-menu clone-primary-menu" id="primary-menu" data-menuname="main menu">
                            <li class="menu-item"><a href="index.html">Home</a></li>
                            <li class="menu-item menu-item-has-children has-megamenu">
                                <a href="category_A_grid_lsidebar.html" class="menu-name" data-title="Shop" >Cars</a>
                                <div class="wrap-megamenu lg-width-400 md-width-750">
                                    <div class="mega-content">
                                        <div class="col-lg-6 col-md-6 col-xs-12 md-margin-bottom-0 xs-margin-bottom-25">
                                            <div class="wrap-custom-menu vertical-menu">
                                                <h4 class="menu-title">Type</h4>
                                                <ul class="menu">
                                                    <li><a href="Category_Sedan.html">Sedan</a></li>
                                                    <li><a href="Category_Wagon.html">Wagon</a></li>
                                                    <li><a href="Category_SUV.html">SUV</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-xs-12 md-margin-bottom-0 xs-margin-bottom-25">
                                            <div class="wrap-custom-menu vertical-menu">
                                                <h4 class="menu-title">Brand</h4>
                                                <ul class="menu">
                                                    <li><a href="Category_Ford.html">Ford</a></li>
                                                    <li><a href="Category_Mazda.html">Mazda</a></li>
                                                    <li><a href="Category_BMW.html">BMW</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </li>
                                <li class="menu-item"><a href="contact.html">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-md-6 col-xs-6">
                        <div class="biolife-cart-info">
                            <div class="mobile-search">
                                <a href="javascript:void(0)" class="open-searchbox"><i class="biolife-icon icon-search"></i></a>
                                <div class="mobile-search-content">
                                    <form action="category_A_grid_lsidebar.html" class="form-search" name="mobile-search" method="get">
                                        <a href="#" class="btn-close"><span class="biolife-icon icon-close-menu"></span></a>
                                        <input type="text" name="s" class="input-text" value="" placeholder="Search here...">
                                        <button type="submit" class="btn-submit">go</button>
                                    </form>                                    
                                </div>
                            </div>
                            
                            <div class="minicart-block">
                                <p class="buttons">
                                    <a href="checkout.html" class="btn btn-bold" style="width: 200px;">Booking</a>
                                </p>

                            <div class="mobile-menu-toggle">
                                <a class="btn-toggle" data-object="open-mobile-menu" href="javascript:void(0)">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-bottom hidden-sm hidden-xs">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-4">
                        <div class="vertical-menu vertical-category-block">
                            <div class="block-title">
                                <span class="menu-icon">
                                    <span class="line-1"></span>
                                    <span class="line-2"></span>
                                    <span class="line-3"></span>
                                </span>
                                <span class="menu-title">All departments</span>
                                <span class="angle" data-tgleclass="fa fa-caret-down"><i class="fa fa-caret-up" aria-hidden="true"></i></span>
                            </div>
                        <div class="wrap-menu">
                            <ul class="menu clone-main-menu">
                                <li class="menu-item menu-item-has-children has-megamenu">
                                    <a href="#" class="menu-name" data-title="Fruit & Nut Gifts"><i></i>Brand</a>
                                    <div class="wrap-megamenu lg-width-900 md-width-640">
                                        <div class="mega-content">
                                            <div class="row">
                                                <div class="col-lg-3 col-md-4 col-sm-12 xs-margin-bottom-25 md-margin-bottom-0">
                                                    <div class="wrap-custom-menu vertical-menu">
                                                        <div style="height: 50px;"></div> 
                                                        <h4 class="menu-title" style="font-size: 36px;">Brand</h4>
                                                        <div style="height: 20px;"></div> 
                                                        <ul class="menu">
                                                            <li><a href="Category_BMW.html" style="font-size: 18px;">BWM</a></li>
                                                            <div style="height: 10px;"></div>
                                                            <li><a href="Category_Ford.html" style="font-size: 18px;">Ford</a></li>
                                                            <div style="height: 10px;"></div>  
                                                            <li><a href="Category_Mazda.html" style="font-size: 18px;">Mazda</a></li>
                                                            <div style="height: 150px;"></div> 
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-12 lg-padding-left-23 xs-margin-bottom-25 md-margin-bottom-0">
                                                    <div class="wrap-custom-menu vertical-menu">
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-4 col-sm-12 lg-padding-left-50 xs-margin-bottom-25 md-margin-bottom-0">
                                                    <div class="biolife-products-block max-width-270">
                                                        <h4 class="menu-title">Popular Vehicles</h4>
                                                        <ul class="products-list default-product-style biolife-carousel nav-none-after-1k2 nav-center" data-slick='{"rows":1,"arrows":true,"dots":false,"infinite":false,"speed":400,"slidesMargin":30,"slidesToShow":1, "responsive":[{"breakpoint":767, "settings":{ "arrows": false}}]}' >
                                                            <li class="product-item">
                                                                <div class="contain-product none-overlay">
                                                                    <div class="product-thumb">
                                                                        <a href="Scategory_A_grid_lsidebar.html" class="link-to-product">
                                                                            <img src="./assets/images/car/BWM Sedan 3.png" alt="dd" width="270" height="270" class="product-thumnail">
                                                                        </a>
                                                                    </div>
                                                                    <div class="info">
                                                                        <b class="categories">Snack</b>
                                                                        <h4 class="product-title"><a href="category_A_grid_lsidebar.html" class="pr-name">BWM Sedan 3</a></h4>
                                                                        <div class="price">
                                                                            <ins><span class="price-amount"><span class="currencySymbol">$</span>100.00/Day</span></ins>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="menu-item menu-item-has-children has-megamenu">
                                        <a href="#" class="menu-name" data-title="Fresh Berries"><i></i>Type</a>
                                        <div class="wrap-megamenu lg-width-900 md-width-640 background-mega-02">
                                            <div class="mega-content">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-4 sm-col-12 md-margin-bottom-83 xs-margin-bottom-25">
                                                        <div class="wrap-custom-menu vertical-menu">
                                                            <div style="height: 50px;"></div> 
                                                            <h4 class="menu-title" style="font-size: 36px;">Type</h4>
                                                            <div style="height: 20px;"></div> 
                                                            <ul class="menu">
                                                                <li><a href="Category_Sedan.html" style="font-size: 18px;">Sedan</a></li>
                                                                <div style="height: 10px;"></div>
                                                                <li><a href="Category_Wagon.html" style="font-size: 18px;">Wagon</a></li>
                                                                <div style="height: 10px;"></div>  
                                                                <li><a href="Category_SUV.html" style="font-size: 18px;">SUV</a></li>
                                                                <div style="height: 70px;"></div> 
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-3 col-md-4 col-sm-12 lg-padding-left-23 xs-margin-bottom-25 md-margin-bottom-0">
                                                        <div class="wrap-custom-menu vertical-menu">
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6 col-md-4 col-sm-12 lg-padding-left-50 xs-margin-bottom-25 md-margin-bottom-0">
                                                        <div class="biolife-products-block max-width-270">
                                                            <h4 class="menu-title">Popular Vehicles</h4>
                                                            <ul class="products-list default-product-style biolife-carousel nav-none-after-1k2 nav-center" data-slick='{"rows":1,"arrows":true,"dots":false,"infinite":false,"speed":400,"slidesMargin":30,"slidesToShow":1, "responsive":[{"breakpoint":767, "settings":{ "arrows": false}}]}' >
                                                                <li class="product-item">
                                                                    <div class="contain-product none-overlay">
                                                                        <div class="product-thumb">
                                                                            <a href="category_A_grid_lsidebar.html" class="link-to-product">
                                                                                <img src="./assets/images/car/BWM Sedan 2.png" alt="dd" width="270" height="270" class="product-thumnail">
                                                                            </a>
                                                                        </div>
                                                                        <div class="info">
                                                                            <b class="categories">Snack</b>
                                                                            <h4 class="product-title"><a href="category_A_grid_lsidebar.html" class="pr-name">BWM Sedan 2</a></h4>
                                                                            <div class="price">
                                                                                <ins><span class="price-amount"><span class="currencySymbol">$</span>100.00/Day</span></ins>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </li>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9 col-md-8 padding-top-2px">
                        <div class="header-search-bar layout-01">
                            <form action="#" class="form-search" id="search-form" method="get">
                                <input type="text" name="s" class="input-text" value="" placeholder="Search here..." id="search-input">
                                <button type="submit" class="btn-submit"><i class="biolife-icon icon-search"></i></button>
                            </form>
                            <div id="recent-searches" class="recent-searches"></div>
                            <div id="suggestions" class="suggestions"></div>
                        </div>
                        
                        <div class="live-info">
                            <p class="telephone"><i class="fa fa-phone" aria-hidden="true"></i><b class="phone-number">(+61) 123 456 789</b></p>
                            <p class="working-time">Mon-Fri: 8:30am-7:30pm; Sat-Sun: 9:30am-4:30pm</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <!--Hero Section-->
    <div class="hero-section hero-background">
        <h1 class="page-title">Car Rental</h1>
    </div>

    <!--Navigation section-->
    <div class="container">
        <nav class="biolife-nav">
            <ul>
                <li class="nav-item"><a href="index.html" class="permal-link">Home</a></li>
                <li class="nav-item"><span class="current-page">ShoppingCart</span></li>
            </ul>
        </nav>
    </div>

    <div class="page-contain checkout">

        <!-- Main content -->
        <div id="main-content" class="main-content">
            <div class="container sm-margin-top-37px">
                <div class="row">

                    <!--car details box-->
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <div id="carDetailsContainer">
                            <h1 class="page-title">Car Rental</h1>
                        </div>

                        <div style="height: 20px;"></div>

                        <p class="form-row">
                            <button class="btn btn-bold" type="button" id="cancelButton" style="width: 300px;">CANCEL</button>
                        </p>

                    <!--user details box-->
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <div class="checkout-progress-wrap">
                            <ul class="steps">
                                <li class="step 1st">
                                    <div class="checkout-act active">
                                        <h3 class="title-box"><span class="number">1</span>User's Details</Details></h3>
                                        <div class="box-content">
                                            <form action="#" name="frm-shipping" method="post">
                                                
                                                <p class="form-row">
                                                    <label for="recipient_name">Recipient Name (required) :</label>
                                                    <input type="text" name="name" id="recipient_name" placeholder="Recipient name" required>
                                                </p>
                                                
                                                <p class="form-row">
                                                    <label for="email_address">Email Address (required) :</label>
                                                    <input type="email" name="email" id="emailAddress" placeholder="Email Address" class="txt-input">
                                                </p>
                                                
                                                <p class="form-row">
                                                    <label for="phone_number">Phone Number (required) :</label>
                                                    <input type="tel" name="phone" id="phone_number" placeholder="Phone number" required>
                                                </p>
                                                <p class="form-row">
                                                    <label>Do you have a valid driver's license? (required):</label>
                                                    <label>
                                                        <input type="radio" name="valid_license" value="yes" required> Yes
                                                    </label>
                                                    <label>
                                                        <input type="radio" name="valid_license" value="no" required> No
                                                    </label>
                                                </p>
                                        </div>
                                    </div>
                                </li>
                                
                                    <div class="checkout-act active">
                                        <h3 class="title-box"><span class="number">2</span>Custom Booking</h3>
                                        <div class="box-content">

                                            <form action="#" method="post">
                                                <!-- 开始租车日期 -->
                                                <p class="form-row">
                                                    <label for="start_date">Start Date (required):</label>
                                                    <input type="date" name="start_date" id="start_date" required>
                                                </p>
                                                <!-- 结束租车日期 -->
                                                <p class="form-row">
                                                    <label for="end_date">End Date (required):</label>
                                                    <input type="date" name="end_date" id="end_date" required>
                                                </p>
                                                <!-- 车辆数量 -->
                                                <p class="form-row">
                                                    <label for="quantity">Quantity (required):</label>
                                                    <input type="number" name="quantity" id="quantity" min="1" value="1" required>
                                                </p>
                                                <!-- 租赁费用显示 -->
                                                <p class="form-row">
                                                    <label>Rental Cost:</label>
                                                    <span id="rental_cost" style="font-size: 20px; font-weight: bold; color: red;">$0</span>
                                                </p>

                                                <div style="clear: both;"></div>

                                                <div style="height: 30px;"></div>

                                                <p class="form-row">
                                                    <button class="btn btn-bold" type="button" id="showPopupButton" disabled>BOOKING</button>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div style="height: 50px;"></div>

<!-- Modal Structure -->
<div id="myModal" class="modal" style="display:none;">
    <div class="modal-content">
        <div style="height: 10px;"></div> 
        <p style="text-align: center; color: red; font-weight: bold; font-size: 48px;">Submit Succeeded!</p>
        <div style="height: 15px;"></div> 
        <p style="text-align: center; color: rgb(58, 58, 58); font-weight: bold; font-size: 36px;">Click link to confirm</p>
        <div style="height: 10px;"></div> 
        <p style="text-align: center; color: rgb(83, 181, 255); font-size: 14px;"><a href="confirm.html">https://www.confirm_booking.com/</p></a>
        <div style="height: 30px;"></div> 
        <p style="text-align: center;">
            <button class="btn btn-submit" type="button" id="backHomeButton">Back Home</button>
        </p>
    </div>
</div>


<!-- FOOTER -->
<footer id="footer" class="footer layout-03">
    <div class="footer-content background-footer-03">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-9">
                    <section class="footer-item">
                        <a class="logo footer-logo"><img src="./assets/images/organic-3.png" alt="biolife logo" width="135" height="34"></a>
                        <div class="footer-phone-info">
                            <i class="biolife-icon icon-head-phone"></i>
                            <p class="r-info">
                                <span>Got Questions ?</span>
                                <span>(+61)  123 456 789 </span>
                            </p>
                        </div>
                        <div class="newsletter-block layout-01">
                            <h4 class="title">Newsletter Signup</h4>
                            <div class="form-content">
                                <form action="#" name="new-letter-foter">
                                    <input type="email" class="input-text email" value="" placeholder="Your email here...">
                                    <button type="submit" class="bnt-submit" name="ok">Sign up</button>
                                </form>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 md-margin-top-5px sm-margin-top-50px xs-margin-top-40px">
                    <section class="footer-item">
                        <div class="row">
                            <div class="col-lg-6 col-sm-6 col-xs-6">
                            <div class="col-lg-6 col-sm-6 col-xs-6">
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 md-margin-top-5px sm-margin-top-50px xs-margin-top-40px">
                    <section class="footer-item">
                        <h3 class="section-title">Transport Offices</h3>
                        <div class="contact-info-block footer-layout xs-padding-top-10px">
                            <ul class="contact-lines">
                                <li>
                                    <p class="info-item">
                                        <i class="biolife-icon icon-location"></i>
                                        <b class="desc">University of Technology Sydney</b>
                                    </p>
                                </li>
                                <li>
                                    <p class="info-item">
                                        <i class="biolife-icon icon-phone"></i>
                                        <b class="desc">Phone: (+61) 123 456 789</b>
                                    </p>
                                </li>
                                <li>
                                    <p class="info-item">
                                        <i class="biolife-icon icon-letter"></i>
                                        <b class="desc">Email:  Xinrui.hu-1@student.uts.edu.au</b>
                                    </p>
                                </li>
                                <li>
                                    <p class="info-item">
                                        <i class="biolife-icon icon-clock"></i>
                                        <b class="desc">Hours: 7 Days a week from 10:00 am</b>
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="biolife-social inline">
                            <ul class="socials">
                                <li><a href="https://twitter.com/MaackiaR" title="twitter" class="socail-btn"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                                <li><a href="https://www.facebook.com/profile.php?id=100027872982316" title="facebook" class="socail-btn"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                <li><a href="https://www.pinterest.com.au/pokimoy/" title="pinterest" class="socail-btn"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                                <li><a href="https://www.youtube.com/channel/UCLZTZ8i0nhCbxHgM3SzCVMQ" title="youtube" class="socail-btn"><i class="fa fa-youtube" aria-hidden="true"></i></a></li>
                                <li><a href="https://www.instagram.com/maackia.z/?next=%2F" title="instagram" class="socail-btn"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                    </section>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="separator sm-margin-top-70px xs-margin-top-40px"></div>
                </div>
                <div class="col-lg-6 col-sm-6 col-xs-12">
                    <div class="copy-right-text"></a></p></div>
                </div>
                <div class="col-lg-6 col-sm-6 col-xs-12">
                    <div class="payment-methods">
                        <ul>
                            <li><img src="./assets/images/card1.jpg" width="51" height="36" alt=""></a></li>
                            <li><img src="./assets/images/card2.jpg" width="51" height="36" alt=""></a></li>
                            <li><img src="./assets/images/card3.jpg" width="51" height="36" alt=""></a></li>
                            <li><img src="./assets/images/card4.jpg" width="51" height="36" alt=""></a></li>
                            <li><img src="./assets/images/card5.jpg" width="51" height="36" alt=""></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

    <!-- Scroll Top Button -->
    <a class="btn-scroll-top"><i class="biolife-icon icon-left-arrow"></i></a>

    <!-- license -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const showPopupButton = document.getElementById('showPopupButton');
            const form = document.querySelector('form[name="frm-shipping"]');
            
            form.addEventListener('submit', function(event) {
                const validLicense = document.querySelector('input[name="valid_license"]:checked').value;
                
                if (validLicense === 'no') {
                    alert('Users must have a valid driving licence!');
                    event.preventDefault();
                }
            });
            
            const requiredFields = document.querySelectorAll('input[required], select[required], textarea[required]');
            const checkRequiredFields = () => {
                let allFilled = true;
                requiredFields.forEach(field => {
                    if (!field.value.trim()) {
                        allFilled = false;
                    }
                });
                showPopupButton.disabled = !allFilled;
            };
        
            requiredFields.forEach(field => {
                field.addEventListener('input', checkRequiredFields);
            });
        
            checkRequiredFields();
        });
        </script>
        
    <!-- showcar -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const carDetailsContainer = document.querySelector('#carDetailsContainer');
            const cars = JSON.parse(localStorage.getItem('rentalCars')) || [];
            let dailyRate = 0;

            if (cars.length > 0) {
                cars.forEach(car => {
                    carDetailsContainer.innerHTML += `
                        <div class="car-detail">
                            <div style="height: 20px;"></div>
                            <img src="${car.image}" alt="${car.name}" width="300" height="300">
                            <div style="height: 20px;"></div>
                            <p><strong>Name:</strong> ${car.name}</p>
                            <p><strong>Price:</strong> ${car.price}</p>
                            <p><strong>Availability:</strong> ${car.availability}</p>
                        </div>
                        `;
                dailyRate = parseFloat(car.price.replace(/[^0-9.-]+/g,""));
            });
        } else {
            carDetailsContainer.innerHTML = '<p>No cars selected for rental.</p>';
        }

        const cancelButton = document.getElementById('cancelButton');
        cancelButton.addEventListener('click', function() {
            localStorage.removeItem('rentalCars');
            window.location.href = 'index.html';
        });

        const startDate = document.getElementById('start_date');
        const endDate = document.getElementById('end_date');
        const quantity = document.getElementById('quantity');
        const rentalCostDisplay = document.getElementById('rental_cost');

        function calculateCost() {
            const start = new Date(startDate.value);
            const end = new Date(endDate.value);
            const days = (end - start) / (1000 * 60 * 60 * 24); // Calculate difference in days
            if (days >= 0 && quantity.value > 0 && dailyRate > 0) {
                const cost = quantity.value * days * dailyRate; // Calculate total cost
                rentalCostDisplay.textContent = `$${cost.toFixed(2)}`;
            } else {
                rentalCostDisplay.textContent = "$0";
            }
        }

        startDate.addEventListener('change', calculateCost);
        endDate.addEventListener('change', calculateCost);
        quantity.addEventListener('input', calculateCost);
    });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const showPopupButton = document.getElementById('showPopupButton');
            const emailInput = document.getElementById('emailAddress'); 
            const modal = document.getElementById('myModal');
            const backHomeButton = document.getElementById('backHomeButton');
            const cartDetails = document.getElementById('cartDetails');
            const formInputs = document.querySelectorAll('#frm-shipping input[required], #start_date[required], #end_date[required], #quantity[required]');

            // 验证输入框
            const checkInputs = () => {
                let allFilled = true;
                formInputs.forEach(input => {
                    if (input.value === '') {
                        allFilled = false;
                    }
                });
                showPopupButton.disabled = !allFilled;
            };
        
            // 实时输入检查
            formInputs.forEach(input => {
                input.addEventListener('input', checkInputs);
            });
        
            // 检查邮箱格式
            showPopupButton.addEventListener('click', function() {
                var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (emailRegex.test(emailInput.value)) {
                    modal.style.display = 'block';
                } else {
                    alert("Please enter a valid email address.");
                    modal.style.display = 'none'; 
                }
            });

            showPopupButton.addEventListener('click', function() {
                // 获取表单内容
                const formData = {};
                formInputs.forEach(input => {
                    formData[input.name] = input.value;
                });

                // 获取car details
                const carDetailsContainer = document.querySelector('#carDetailsContainer');
                const carDetails = carDetailsContainer.innerHTML;

                // 获取总价
                const totalPrice = document.getElementById('rental_cost').textContent;

                // 存储到localStorage
                localStorage.setItem('checkoutFormData', JSON.stringify(formData));
                localStorage.setItem('carDetails', carDetails);
                localStorage.setItem('totalPrice', totalPrice);

                // 跳转到confirm.html
                //window.location.href = 'confirm.html';
            });
        
            // 购物车清空回到主页
            backHomeButton.addEventListener('click', function() {
                localStorage.clear(); // 清空localStorage
                window.location.href = 'index.html'; 
            });
        
            showPopupButton.addEventListener('click', function() {
                const cart = JSON.parse(localStorage.getItem('cart') || '[]');
                cartDetails.innerHTML = '';
                cart.forEach((item, index) => {
                    cartDetails.innerHTML += createCartItemHTML(item.name, item.price, item.image, item.qty, index);
                });
            });
        
            function createCartItemHTML(name, price, image, qty, index) {
                return `
                    <div class="minicart-item" data-index="${index}">
                        <div class="thumb">
                            <a href="#"><img src="${image}" width="90" height="90" alt="${name}"></a>
                        </div>
                        <div class="left-info">
                            <div class="product-title"><a href="#" class="product-name">${name}</a></div>
                            <div class="price"><ins><span class="price-amount">$${price}</span></ins></div>
                            <div>Qty: ${qty}</div>
                        </div>
                    </div>
                `;
            }
        });
        </script>
        

    <script src="./assets/js/cart.js"></script>
    <script src="./assets/js/jquery-3.4.1.min.js"></script>
    <script src="http://cdn.bootstrapmb.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="./assets/js/jquery.countdown.min.js"></script>
    <script src="./assets/js/jquery.nice-select.min.js"></script>
    <script src="./assets/js/jquery.nicescroll.min.js"></script>
    <script src="./assets/js/slick.min.js"></script>
    <script src="./assets/js/biolife.framework.js"></script>
    <script src="./assets/js/functions.js"></script>
</body>
</html>